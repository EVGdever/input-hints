{"version":3,"sources":["components/HintItem/HintItem.tsx","components/Loader/Loader.tsx","images/loader.png","App.tsx","images/search.png","index.tsx"],"names":["HintItem","user","active","clickHandler","setActiveHint","index","useState","undefined","img","setImg","useEffect","fetch","id","then","response","json","url","className","onClick","onMouseEnter","src","alt","name","email","Loader","App","hintRef","useRef","input","setInput","activeHint","loading","setLoading","hintShow","setHintShow","users","setUsers","changeHandler","useCallback","event","prevState","length","target","value","getUsers","setUser","keyPressHandler","key","current","scroll","data","map","fetchedUser","setTimeout","catch","error","Error","type","onKeyUp","onChange","placeholder","ref","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uKAmDeA,EAxC2B,SAAC,GAMpC,IALLC,EAKI,EALJA,KACAC,EAII,EAJJA,OACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,cACAC,EACI,EADJA,MACI,EACkBC,wBAASC,GAD3B,mBACGC,EADH,KACQC,EADR,KAGJC,qBAAU,WAERC,MAAM,+CAAiDV,EAAKW,IACzDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAE,GAAI,OAAIN,EAAOM,EAAKC,UAC3B,CAACf,IAMJ,OACE,qBACEgB,UAAW,aAAef,EAAS,UAAY,IAC/CgB,QAAS,kBAAMf,EAAaE,IAC5Bc,aAAc,WAPhBf,EAOmCC,IAHnC,SAMIG,EACE,qCACE,qBAAKS,UAAU,SAASG,IAAKZ,EAAKa,IAAI,KACtC,sBAAKJ,UAAU,YAAf,UACE,mBAAGA,UAAU,OAAb,SAAqBhB,EAAKqB,OAC1B,mBAAGL,UAAU,QAAb,SAAsBhB,EAAKsB,cAEzB,QClCDC,EARU,WACvB,OACE,qBAAKP,UAAU,SAAf,SACE,qBAAKG,ICNI,qjHDMSC,IAAI,cE8HbI,EAzHO,WACpB,IAAMC,EAAUC,iBAAuB,MADb,EAEArB,mBAAiB,IAFjB,mBAEnBsB,EAFmB,KAEZC,EAFY,OAGUvB,mBAAS,GAHnB,mBAGnBwB,EAHmB,KAGP1B,EAHO,OAIIE,oBAAS,GAJb,mBAInByB,EAJmB,KAIVC,EAJU,OAKM1B,oBAAS,GALf,mBAKnB2B,EALmB,KAKTC,EALS,OAMA5B,mBAA0B,IAN1B,mBAMnB6B,EANmB,KAMZC,EANY,KAQpBC,EAAgBC,uBAAY,SAACC,GACjCV,GAAS,SAAAW,GAOP,OANIA,EAAUC,QAAU,GAAKF,EAAMG,OAAOC,MAAMF,OAAS,GACvDG,IAEEL,EAAMG,OAAOC,MAAMF,QAAU,GAC/BL,EAAS,IAEJG,EAAMG,OAAOC,WAErB,IAEGE,EAAUP,uBAAY,SAAC1B,GAC3BR,EAAc,GACd8B,GAAY,GACZL,EAASM,EAAMvB,GAAIU,QAClB,CAACa,IAEEW,EAAkBR,uBAAY,SAACC,GACnC,IAAIrC,EAAS4B,EACb,GAAIK,EAAO,CACT,GAAkB,UAAdI,EAAMQ,IACR,OAAOF,EAAQ3C,GAGC,cAAdqC,EAAMQ,KAAuB7C,IAAWiC,EAAMM,OAAS,GACzDvC,IAGgB,YAAdqC,EAAMQ,KAAgC,IAAX7C,GAC7BA,IAGEwB,EAAQsB,SACVtB,EAAQsB,QAAQC,OAAO,EAAY,GAAT/C,GAG5BE,EAAcF,MAEf,CAACiC,EAAO/B,EAAe0B,EAAYe,IAEhCD,EAAW,WACfZ,GAAW,GACXE,GAAY,GACZvB,MAAM,8CACHE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAE,GACJ,IAAMmC,EAAOnC,EAAKoC,KAAI,SAACC,GACrB,MAAO,CACLxC,GAAIwC,EAAYxC,GAChBU,KAAM8B,EAAY9B,KAClBC,MAAO6B,EAAY7B,UAKvB8B,YAAW,WACTjB,EAASc,GACTlB,GAAW,KACV,QAKJsB,OAAM,SAAAC,GAGL,MAFArB,GAAY,GACZF,GAAW,GACL,IAAIwB,MAAMD,OAItB,OACE,gCACE,mBAAGtC,UAAU,SAAb,2QACA,mBAAGA,UAAU,UAAb,+VACA,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,aAAaG,IC/FrB,ypBD+FkCC,IAAI,WAC7C,uBACIoC,KAAK,OACLC,QAASZ,EACTa,SAAUtB,EACVM,MAAOf,EACPgC,YAAY,WAGd3B,EACI,qBAAKhB,UAAU,OAAO4C,IAAKnC,EAA3B,SAGKK,EAaG,cAAC,EAAD,IAZFI,EAAMgB,KAAI,SAAClD,EAAMI,GACf,OACE,cAAC,EAAD,CAEEJ,KAAMA,EACNI,MAAOA,EACPF,aAAc0C,EACdzC,cAAeA,EACfF,OAAQ4B,IAAezB,GALlBJ,EAAKW,SAYtB,YEvHdkD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.c5c517d8.chunk.js","sourcesContent":["import React, {Dispatch, SetStateAction, useEffect, useState} from \"react\";\nimport {UserInterface} from \"../../App\";\n\nexport interface HintItemProps {\n  index: number,\n  active: boolean,\n  user: UserInterface,\n  clickHandler(id: number): void,\n  setActiveHint: Dispatch<SetStateAction<number>>,\n}\n\nconst HintItem: React.FC<HintItemProps> = ({\n  user,\n  active,\n  clickHandler,\n  setActiveHint,\n  index\n}) => {\n  const [img, setImg] = useState(undefined);\n\n  useEffect(() => {\n    // Get user image\n    fetch('https://jsonplaceholder.typicode.com/photos/' + user.id)\n      .then(response => response.json())\n      .then(json => setImg(json.url))\n  }, [user])\n\n  const hoverHandler = (id: number) => {\n    setActiveHint(id)\n  }\n\n  return (\n    <div\n      className={\"hint-item\" + (active ? ' active' : '')}\n      onClick={() => clickHandler(index)}\n      onMouseEnter={() => hoverHandler(index)}\n    >\n      {\n        img ?\n          <>\n            <img className=\"avatar\" src={img} alt=\"\"/>\n            <div className=\"user-info\">\n              <p className=\"name\">{user.name}</p>\n              <p className=\"email\">{user.email}</p>\n            </div>\n          </> : null\n      }\n    </div>\n  )\n}\n\nexport default HintItem;","import React from \"react\";\nimport loader from \"../../images/loader.png\";\n\nconst Loader: React.FC = () => {\n  return (\n    <div className=\"loader\" >\n      <img src={loader} alt=\"loader\"/>\n    </div>\n  )\n}\n\nexport default Loader;","export default \"data:image/png;base64,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\"","import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport search from './images/search.png';\nimport HintItem from \"./components/HintItem/HintItem\";\nimport Loader from \"./components/Loader/Loader\";\n\nexport interface UserInterface {\n  id: string,\n  name: string,\n  email: string\n}\n\nconst App: React.FC = () => {\n  const hintRef = useRef<HTMLDivElement>(null)\n  const [input, setInput] = useState<string>('')\n  const [activeHint, setActiveHint] = useState(0)\n  const [loading, setLoading] = useState(false)\n  const [hintShow, setHintShow] = useState(false)\n  const [users, setUsers] = useState<UserInterface[]>([])\n\n  const changeHandler = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    setInput(prevState => {\n      if (prevState.length <= 1 && event.target.value.length > 1)\n        getUsers()\n\n      if (event.target.value.length <= 1)\n        setUsers([])\n\n      return event.target.value\n    });\n  }, [])\n\n  const setUser = useCallback((id: number) => {\n    setActiveHint(0)\n    setHintShow(false)\n    setInput(users[id].name)\n  }, [users])\n\n  const keyPressHandler = useCallback((event: React.KeyboardEvent) => {\n    let active = activeHint\n    if (users) {\n      if (event.key === 'Enter') {\n        return setUser(active)\n      }\n\n      if (event.key === 'ArrowDown' && active !== users.length - 1) {\n        active++\n      }\n\n      if (event.key === 'ArrowUp' && active !== 0) {\n        active--\n      }\n\n      if (hintRef.current) {\n        hintRef.current.scroll(0, active * 50)\n      }\n\n      setActiveHint(active)\n    }\n  }, [users, setActiveHint, activeHint, setUser])\n\n  const getUsers = () => {\n    setLoading(true)\n    setHintShow(true)\n    fetch('https://jsonplaceholder.typicode.com/users')\n      .then(response => response.json())\n      .then(json => {\n        const data = json.map((fetchedUser: any) => {\n          return {\n            id: fetchedUser.id,\n            name: fetchedUser.name,\n            email: fetchedUser.email\n          }\n        })\n\n        // Check loader\n        setTimeout(() => {\n          setUsers(data)\n          setLoading(false)\n        }, 2000)\n\n        // setUsers(data)\n        // setLoading(false)\n      })\n      .catch(error => {\n        setHintShow(false)\n        setLoading(false)\n        throw new Error(error)\n      })\n  }\n\n  return (\n    <div>\n      <p className=\"prompt\">Для того что бы появилась подсказка начните ввод</p>\n      <p className=\"timeout\">Задержка в запросе добавлена искусствено, ее можно убрать тут (App.tsx:76-79)</p>\n      <div className=\"input-fluid\">\n        <img className=\"input-icon\" src={search} alt=\"search\"/>\n        <input\n            type=\"text\"\n            onKeyUp={keyPressHandler}\n            onChange={changeHandler}\n            value={input}\n            placeholder=\"Search\"\n        />\n        {\n          hintShow ?\n              <div className=\"hint\" ref={hintRef}>\n                {\n\n                  !loading ?\n                    users.map((user, index) => {\n                      return (\n                        <HintItem\n                          key={user.id}\n                          user={user}\n                          index={index}\n                          clickHandler={setUser}\n                          setActiveHint={setActiveHint}\n                          active={activeHint === index}\n                        />\n                      )\n                    })\n                    : <Loader/>\n                }\n              </div>\n            : null\n        }\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF1SURBVHgBlZNNcoJQDMeTaF17g9IbeAQ4iToFZMaF9ASdnkDd8WFn6A28AfYGPYJHcC3DS19AZ5B50JINIQm/989LQGiY67o20WijmG1EnDLzhRBPSpX7w+Fwgh7Du+P7qy0DhN2FvEuS5K0rTw8QrYABP0aEL2kSozzl/RYPfd/fdh7kuoGNxLkUA7CTpulPu8jzvJkuzUHaVaVjapNwxJuKiLA3QcQkzkj7um70bm5NsV05RBn02JigziPMzCAtV5wois59oEZ+agZVdwOwXq+feziwWATWzb2YQYTVvRRFsezhwHgC88ph+DaCuNTjrfK4qadjUqPjrKodYy53pppqIV+91Y4QZHoXWbzrlb6yLDoHQWAppeaKIZRN19VZGsfLTlALZjYN0bIX2jsXV3TkoIfW7s5nGoes0NHij/cB3Jb0KHFRok+Vj62nCeeNy39U9B+rW+Vc/05WW9kgUB+MhoJkMYnQabYp8cGgNmxwS3/ZL6C1vDHNneWMAAAAAElFTkSuQmCC\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}